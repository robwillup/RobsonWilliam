@page "/contact"
@inject HttpClient Http
@using InJesusWeLive.Shared

<PageTitle>Contato</PageTitle>

<MudGrid Spacing="3" Justify="Justify.Center">
    <MudItem>
        <MudCard Style="width:100%">
            <MudCardMedia Style="width: 400px; height: 200px;"
                Image="https://images.unsplash.com/photo-1554755209-85e44182e019?q=80&w=1674&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
            <MudCardContent Style="width: 400px">
                <MudText Typo="Typo.body2"><cite>"Não abandonemos a prática de nos reunir, como é costume de alguns,
                        mas, pelo contrário,
                        <br />animemo-nos uns aos outros, quanto mais vedes que o Dia se aproxima"</cite> - Hb 10:25
                    (Almeida Século 21)</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Color="Color.Info" Href="https://www.cristoemnos.com.br/" Target="_blank"
                    Style="width: 250px; display: flex; justify-content: flex-start; align-items: center;">
                    <MudIcon Icon="fas fa-globe" Style="margin-right: 10px"/>
                    cristoemnos.com.br
                </MudButton>
            </MudCardActions>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Color="Color.Info" Href="@youTubeLink" Target="_blank"
                    Style="width: 250px; display: flex; justify-content: flex-start; align-items: center;">
                    <MudIcon Icon="fab fa-youtube" Style="margin-right: 10px"/>
                    Cristo em Nós
                </MudButton>
            </MudCardActions>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Color="Color.Info" Href="@MailToLink" Target="_blank"
                    Style="width: 250px; display: flex; justify-content: flex-start; align-items: center;">
                    <MudIcon Icon="@Icons.Material.Filled.Email" Style="margin-right: 10px" />
                    Email
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

@code {
    private ContactFormData formData = new ContactFormData();
    public string youTubeLink = "https://www.youtube.com/@cristoemnos-aservicodocorp9538";

    // Dynamically generate the mailto link
    private string MailToLink =>
    $"mailto:injesuswelive.org@outlook.com?subject=Contato%20sobre%20seguir%20Jesus&body=Nome:%20{Uri.EscapeDataString(formData.Name)}%0D%0A"
    +
    $"Mensagem:%20{Uri.EscapeDataString(formData.Message)}";

    private class ContactFormData
    {
        public string Name { get; set; } = ""; // Default placeholder value
        public string Message { get; set; } = "Olá! quero seguir a Jesus Cristo ...";
    }
}
